plugins {
    id 'java-library' // ğŸ‘ˆ 'api' í‚¤ì›Œë“œë¥¼ ì“°ê¸° ìœ„í•´ ì¶”ê°€
}

// 1. ë¶€ëª¨ê°€ ê°•ì œë¡œ ì¼  bootJarë¥¼ ë•ë‹ˆë‹¤. (ì‹¤í–‰ ì•± ì•„ë‹˜)
bootJar {
    enabled = false
}

// 2. ëŒ€ì‹  ì¼ë°˜ jarë¥¼ ì¼­ë‹ˆë‹¤. (ë¼ì´ë¸ŒëŸ¬ë¦¬ìš©)
jar {
    enabled = true
}

dependencies {
    api 'org.springframework.boot:spring-boot-starter-data-jpa'
    api 'org.springframework.boot:spring-boot-starter-web'

    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-data-redis'
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-kafka'
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    implementation 'io.micrometer:micrometer-registry-prometheus'

    // 1. JWT ê´€ë ¨ (MalformedJwtException ì—ëŸ¬ í•´ê²°ìš©)
    implementation "io.jsonwebtoken:jjwt-api:${jwtVersion}"
    runtimeOnly "io.jsonwebtoken:jjwt-impl:${jwtVersion}"
    runtimeOnly "io.jsonwebtoken:jjwt-jackson:${jwtVersion}"

    // 2. JSON ì²˜ë¦¬ ë° Java 8 ë‚ ì§œ ì§€ì› (ApiResponse ë“± DTOìš©)
    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'
    implementation 'com.fasterxml.jackson.core:jackson-databind'

    // 3. Validation (DTOì—ì„œ @NotBlank, @Size ë“±ì„ ì“´ë‹¤ë©´ í•„ìš”)
    implementation 'org.springframework.boot:spring-boot-starter-validation'

    // 4. Security (JwtTokenProviderì—ì„œ Authentication ê°ì²´ ë“±ì„ ì“´ë‹¤ë©´ í•„ìš”)
    implementation 'org.springframework.boot:spring-boot-starter-security'

    // web client
    implementation 'org.springframework.boot:spring-boot-starter-webflux'

    //webPushToken
    implementation 'com.google.firebase:firebase-admin:9.2.0'

    //OAuth
    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'
    // SpringDoc OpenAPI (Swagger UI)

    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:3.0.0'

    // AWS S3
    implementation 'io.awspring.cloud:spring-cloud-aws-starter-s3:4.0.0'

    //QueryDSL
    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'
    annotationProcessor "com.querydsl:querydsl-apt:5.0.0:jakarta"
    annotationProcessor "jakarta.annotation:jakarta.annotation-api"
    annotationProcessor "jakarta.persistence:jakarta.persistence-api"

    // Spring Batch
    implementation 'org.springframework.boot:spring-boot-starter-batch'

    // Batch í…ŒìŠ¤íŠ¸ìš©
    testImplementation 'org.springframework.batch:spring-batch-test'
}

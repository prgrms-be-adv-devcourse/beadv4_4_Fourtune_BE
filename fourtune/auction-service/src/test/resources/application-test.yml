# auction-service 테스트용 설정 (컨텍스트 로드·단위/API 테스트)
spring:
  jpa:
    hibernate:
      ddl-auto: create-drop
  datasource:
    url: jdbc:h2:mem:auction_test;DB_CLOSE_DELAY=-1;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
    username: sa
    password:
    driver-class-name: org.h2.Driver
  data:
    redis:
      host: localhost
      port: 6379
  kafka:
    bootstrap-servers: localhost:9092
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration
      - org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration
      - io.awspring.cloud.autoconfigure.s3.S3AutoConfiguration
  cloud:
    aws:
      credentials:
        access-key: test
        secret-key: test
      region:
        static: ap-northeast-2
      s3:
        bucket: test-bucket
        path-prefix: test
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: test-client-id
            client-secret: test-secret
            redirect-uri: http://localhost:9999/login/oauth2/code/google
        provider:
          google:
            token-uri: https://oauth2.googleapis.com/token
            user-info-uri: https://www.googleapis.com/oauth2/v3/userinfo

# Feign 호출 없이 컨텍스트만 검증할 때 사용 (테스트에서 @MockBean UserClient)
api:
  user:
    base-url: http://localhost:9999

# JWT (common JwtTokenProvider 필수)
jwt:
  secret: dGVzdC1zZWNyZXQta2V5LWZvci10ZXN0aW5nLW9ubHktbWluLTI1Ni1iaXRzLXJlcXVpcmVkLWZvci1obWFjLXNoYTI1Ni1hbGdvcml0aG0tdGVzdC1rZXktMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTA=
  access-token-expiration: 3600000
  refresh-token-expiration: 1209600000

# 테스트 시 Firebase 초기화 스킵 (common FirebaseConfig 조건부 비활성)
firebase:
  enabled: false

feature:
  kafka:
    enabled: false
  kafka.auction-events:
    enabled: false
